(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(43)},30:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),s=n.n(c),o=(n(30),n(9)),l=n(7),u=n(1),i=n.n(u),m=n(5),p=n(16),d=n(10),f=n(11),h=n(13),b=n(12),v=n(14),E=function(){var e=Object(m.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://simple-blog-api.crew.red/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://simple-blog-api.crew.red/posts/".concat(t,"?_embed=comments"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(i.a.mark(function e(t,n){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://simple-blog-api.crew.red/comments",{method:"post",body:JSON.stringify({postId:n,body:t}),headers:{"content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(i.a.mark(function e(t,n,a){var r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://simple-blog-api.crew.red/posts",{method:"post",body:JSON.stringify({title:t,body:n,creator:a,date:new Date}),headers:{"content-type":"application/json"}});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(){return r.a.createElement("div",{className:"lds-hourglass"})};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],isLoaded:!1,postFormVisible:!1,formValue:{title:"",body:"",creator:""}},n.handleShowAddPost=function(){n.setState(function(e){return{postFormVisible:!e.postFormVisible}})},n.cleanPostForm=function(){n.setState({formValue:{title:"",body:"",creator:""}})},n.handleChange=function(e,t){var a=e.target.value;n.setState(function(e){return{formValue:x({},e.formValue,Object(p.a)({},t,a))}})},n.handlePostSubmit=function(){var e=Object(m.a)(i.a.mark(function e(t,a,r,c){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===a||""===r||""===c){e.next=9;break}return e.next=4,O(a,r,c);case 4:return n.cleanPostForm(),e.next=7,E();case 7:s=e.sent,n.setState({posts:s});case 9:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({posts:t,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.match,n=this.state,a=n.posts,c=n.isLoaded,s=n.postFormVisible,l=this.state.formValue,u=l.title,i=l.body,m=l.creator;return c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"submit-container"},r.a.createElement("button",{className:"show-form-button",onClick:this.handleShowAddPost,type:"button"},s?"Hide form":"Show form"),s&&r.a.createElement("form",{onSubmit:function(t){return e.handlePostSubmit(t,u,i,m)}},r.a.createElement("input",{onChange:function(t){return e.handleChange(t,"creator")},value:this.state.formValue.creator,name:"creator",className:"add-post-input add-name",placeholder:"Enter your name",type:"text"}),r.a.createElement("input",{onChange:function(t){return e.handleChange(t,"title")},value:this.state.formValue.title,name:"title",className:"add-post-input",placeholder:"Title",type:"text"}),r.a.createElement("input",{onChange:function(t){return e.handleChange(t,"body")},value:this.state.formValue.body,name:"body",className:"add-post-input",placeholder:"Write your post here",type:"text"}),r.a.createElement("button",{className:"add-post-submit",type:"submit"},"Submit"))),r.a.createElement("ul",{className:"post-container"},a.map(function(e){return r.a.createElement(o.b,{to:"".concat(t.path,"/").concat(e.id),className:"link"},r.a.createElement("li",{className:"post-item"},r.a.createElement("p",null,r.a.createElement("span",{className:"topic"},e.date.slice(0,10))),r.a.createElement("p",null,r.a.createElement("span",null,"creator: "),r.a.createElement("span",null,e.creator),r.a.createElement("br",null),r.a.createElement("span",null,"Title: "),r.a.createElement("span",null,e.title))))}))):r.a.createElement(j,null)}}]),t}(r.a.Component),k=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={details:[],isLoaded:!1,value:""},n.handleChange=function(e){n.setState({value:e.target.value})},n.cleanCommentForm=function(){n.setState({value:""})},n.handleCommentSubmit=function(){var e=Object(m.a)(i.a.mark(function e(t,a,r){var c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===r){e.next=9;break}return e.next=4,w(r,a);case 4:return n.cleanCommentForm(),e.next=7,y(a);case 7:c=e.sent,n.setState({details:c});case 9:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(this.props.match.params.postId);case 2:t=e.sent,this.setState({details:t,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.details,n=t.title,a=t.body,c=t.creator,s=t.date,o=t.comments,l=t.id;return this.state.isLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"post-item"},r.a.createElement("p",null,r.a.createElement("span",null,"date: "),r.a.createElement("span",null,s),r.a.createElement("br",null),r.a.createElement("span",null,"creator: "),r.a.createElement("span",null,c),r.a.createElement("br",null),r.a.createElement("span",null,"title: "),r.a.createElement("span",null,n),r.a.createElement("br",null),r.a.createElement("span",null,"body: "),r.a.createElement("span",null,a)),r.a.createElement("p",null,r.a.createElement("b",null,"Comments"),"(",o.length,")"),r.a.createElement("p",null,r.a.createElement("form",{onSubmit:function(t){return e.handleCommentSubmit(t,l,e.state.value)}},r.a.createElement("textarea",{onChange:this.handleChange,id:"comment",name:"Add-comment",rows:"3",value:this.state.value,placeholder:"write your comment here"}),r.a.createElement("button",{type:"submit"},"add comment"))),o.map(function(e){return r.a.createElement("p",{className:"comment"},e.body)}))):r.a.createElement(j,null)}}]),t}(r.a.Component),C=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header-container"},r.a.createElement("nav",null,r.a.createElement(o.b,{className:"basic_link",to:"/LatestPosts"},"Posts"))),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:S}),r.a.createElement(l.a,{exact:!0,path:"/LatestPosts",component:S}),r.a.createElement(l.a,{path:"/LatestPosts/:postId",component:k}))))};s.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.89dd6a52.chunk.js.map